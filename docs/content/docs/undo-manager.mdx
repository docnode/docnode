---
title: Undo Manager
description: Undo Manager of the DocNode
---

import { TypeTable } from "fumadocs-ui/components/type-table";

DocNode provides a built-in undo manager that can be used to undo and redo transactions. It has a modular design and is completely opt-in.

<Callout type="info">
  The implementation is very simple (less than 80 lines), making it easy to
  customize or use as inspiration for your own UndoManager. For example, you
  could store operations in IndexedDB instead of memory, enabling persistent
  undo/redo when reopening documentsâ€”similar to how VS Code preserves your
  editing history when switching between files.
</Callout>

```ts
import { UndoManager } from "docnode";

const undoManager = new UndoManager(doc, { maxUndoSteps: 100 });

doc.undoManager.undo(); // undo the last transaction
doc.undoManager.redo(); // redo the last undone transaction
doc.undoManager.canUndo(); // true if there are undo steps available
doc.undoManager.canRedo(); // true if there are redo steps available
```

## Options

{/* I wonder if a simple table offers better readability than the TypeTable component. */}
{/* | Option | Description | Default | */}
{/* | ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | */}
{/* | maxUndoSteps | The maximum number of undo steps to keep in the undo stack. If the number of undo steps exceeds this limit, the oldest undo step will be removed. | 100 | */}

<TypeTable
  type={{
    maxUndoSteps: {
      description:
        "The maximum number of undo steps to keep in the undo stack. If the number of undo steps exceeds this limit, the oldest undo step will be removed.",
      type: "number",
      default: 100,
    },
  }}
/>
